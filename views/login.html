<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Legendary Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      height: 100vh;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
    }

    .glass {
      width: 400px;
      padding: 40px;
      border-radius: 22px;
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(20px);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
      animation: fadeIn 0.8s ease;
      position: relative;
    }

    .back {
      position: absolute;
      top: -35px;
      right: 0;
      font-size: 14px;
      cursor: pointer;
      color: #19C5B8;
      display: none;
    }

    h1 {
      text-align: center;
      margin-bottom: 8px;
      font-size: 28px;
      background: linear-gradient(90deg, #3A7AFE, #19C5B8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    p {
      text-align: center;
      font-size: 14px;
      opacity: 0.85;
      margin-bottom: 25px;
    }

    .input-group {
      margin-bottom: 15px;
    }

    input {
      width: 100%;
      padding: 14px;
      border-radius: 12px;
      border: none;
      outline: none;
      font-size: 14px;
      background: rgba(255, 255, 255, 0.15);
      color: #fff;
    }

    input::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }

    button {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(135deg, #3A7AFE, #19C5B8);
      color: #fff;
      transition: 0.3s;
      margin-top: 10px;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(58, 122, 254, 0.4);
    }

    .switch {
      margin-top: 18px;
      text-align: center;
      font-size: 13px;
    }

    .switch span {
      color: #19C5B8;
      cursor: pointer;
      font-weight: 500;
    }

    .message {
      margin-top: 15px;
      text-align: center;
      font-size: 13px;
      display: none;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
  </style>
</head>

<body>

  <div class="glass">
    <div class="back" id="backBtn" onclick="toggleMode()">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</div>

    <h1 id="title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>
    <p id="subtitle">Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ø¹ÙˆØ¯ØªÙƒ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„</p>

    <!-- Register Only -->
    <div class="input-group" id="nameGroup" style="display:none;">
      <input type="text" id="fullName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
    </div>

    <div class="input-group">
      <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    </div>

    <div class="input-group" id="phoneGroup" style="display:none;">
      <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
    </div>

    <div class="input-group">
      <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    </div>

    <div class="input-group" id="confirmGroup" style="display:none;">
      <input type="password" id="confirmPassword" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    </div>

    <button onclick="handleAuth()" id="actionBtn">Ø¯Ø®ÙˆÙ„</button>

    <div class="switch">
      <span onclick="toggleMode()" id="switchText">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</span>
    </div>

    <div class="message" id="message"></div>
  </div>

  <script>
    let isLogin = true;

    function toggleMode() {
      isLogin = !isLogin;

      document.getElementById("title").innerText =
        isLogin ? "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„" : "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨";

      document.getElementById("subtitle").innerText =
        isLogin ? "Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ø¹ÙˆØ¯ØªÙƒ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„" : "Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ© Ù…Ø¹Ù†Ø§";

      document.getElementById("actionBtn").innerText =
        isLogin ? "Ø¯Ø®ÙˆÙ„" : "Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨";

      document.getElementById("switchText").innerText =
        isLogin ? "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯" : "Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„";

      document.getElementById("nameGroup").style.display = isLogin ? "none" : "block";
      document.getElementById("phoneGroup").style.display = isLogin ? "none" : "block";
      document.getElementById("confirmGroup").style.display = isLogin ? "none" : "block";
      document.getElementById("backBtn").style.display = isLogin ? "none" : "block";

      document.getElementById("message").style.display = "none";
    }

    function showMessage(text, success = false) {
      const msg = document.getElementById("message");
      msg.style.color = success ? "#9cffc7" : "#ffb3b3";
      msg.innerText = text;
      msg.style.display = "block";
    }

    function handleAuth() {
      if (!isLogin) {
        const fullName = document.getElementById("fullName").value.trim();
        const email = document.getElementById("email").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const password = document.getElementById("password").value;
        const confirmPassword = document.getElementById("confirmPassword").value;

        if (!fullName || !email || !phone || !password || !confirmPassword) {
          showMessage("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„");
          return;
        }

        if (password !== confirmPassword) {
          showMessage("ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†");
          return;
        }

        localStorage.setItem("student", JSON.stringify({
          fullName,
          email,
          phone,
          password
        }));

        showMessage("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ¨", true);
        setTimeout(toggleMode, 1200);
        return;
      }

      // Login
      const loginEmail = document.getElementById("email").value.trim();
      const loginPassword = document.getElementById("password").value;
      const saved = JSON.parse(localStorage.getItem("student"));

      if (!saved) {
        showMessage("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨ØŒ ÙŠØ±Ø¬Ù‰ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø£ÙˆÙ„Ù‹Ø§");
        return;
      }

      if (loginEmail !== saved.email || loginPassword !== saved.password) {
        showMessage("Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
        return;
      }

      showMessage("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­ ğŸš€", true);

      setTimeout(() => {
        window.location.href = "ProfilePage.html";
      }, 1200);
    }
  </script>

</body>
</html>
